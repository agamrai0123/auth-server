================================================================================
                    ORACLE LOAD TEST RESULTS & SETUP
================================================================================

Test Date: 2024-01-03
Database: Oracle 21c Express Edition
Status: Ready for Load Testing

================================================================================
                         QUICK START: 5 MINUTES
================================================================================

STEP 1: Start Oracle Database
  docker-compose up -d
  Wait for: oracle-auth-db Up (healthy) ✓

STEP 2: Build Load Test Tool
  go build -o load-test load-test.go

STEP 3: Start Auth Server
  go run main.go
  Expected: "Server listening on :8080" ✓

STEP 4: Run Load Test
  ./load-test -url=http://localhost:8080 -concurrency=10 -requests=50

STEP 5: View Results
  Results display in console with all metrics

================================================================================
                        TEST COMMANDS BY SCENARIO
================================================================================

LIGHT TEST (Quick Check - 2 min):
  ./load-test -url=http://localhost:8080 -concurrency=5 -requests=20
  Total: 100 requests

MEDIUM TEST (Standard - 5 min):
  ./load-test -url=http://localhost:8080 -concurrency=10 -requests=50
  Total: 500 requests

HEAVY TEST (Stress - 15 min):
  ./load-test -url=http://localhost:8080 -concurrency=20 -requests=100
  Total: 2000 requests

STRESS TEST (Maximum - 30 min):
  ./load-test -url=http://localhost:8080 -concurrency=50 -requests=200
  Total: 10000 requests

SAVE RESULTS:
  ./load-test -url=http://localhost:8080 -concurrency=10 -requests=50 | tee my-results.txt

================================================================================
                        EXPECTED PERFORMANCE
================================================================================

Success Rate:       >95% (ideal 100%)
Average Latency:    25-40ms (good: <50ms)
Throughput:         60-100 req/sec (good: >50)
P99 Latency:        <200ms

Per-Endpoint:
  Token:     35ms avg,  100 req/sec
  Validate:  25ms avg,  120 req/sec
  Revoke:    30ms avg,  110 req/sec

With Caching:       500+ req/sec, <5ms latency

================================================================================
                      SAMPLE OUTPUT FORMAT
================================================================================

=======================================================================
                     AUTH SERVER LOAD TEST
=======================================================================

Configuration:
  Base URL:          http://localhost:8080
  Concurrency:       10 workers
  Requests/worker:   50
  Total requests:    500
  Client ID:         test-client-1

Starting load test...

=======================================================================
                      LOAD TEST RESULTS
=======================================================================

Overall Statistics:
  Total Requests:    500
  Successful:        485 (97%)
  Failed:            15 (3%)
  Total Duration:    6.234567s
  Requests/sec:      80.19

Latency Statistics:
  Min:               5.234ms
  Max:               187.456ms
  Avg:               31.245ms

Per-Endpoint Statistics:
Endpoint      Requests  Success  Failed  Avg Latency  Success Rate
Token              167      162       5      35.123ms      97.00%
Validate           166      162       4      28.456ms      97.60%
Revoke             167      161       6      30.234ms      96.41%

=======================================================================

Load test completed in 6.234567s

================================================================================
                        INTERPRETING RESULTS
================================================================================

SUCCESS RATE:
  >95% = ✓ Excellent
  90-95% = Good
  80-90% = Fair (investigate)
  <80% = ✗ Poor (action needed)

LATENCY:
  <20ms = ✓ Excellent
  20-50ms = ✓ Good
  50-100ms = Fair
  >100ms = ✗ Needs optimization

THROUGHPUT:
  >100 req/sec = ✓ Excellent
  60-100 req/sec = ✓ Good
  30-60 req/sec = Fair
  <30 req/sec = ✗ Poor

================================================================================
                        DATABASE VERIFICATION
================================================================================

Check Database Status:
  docker-compose ps
  Expected: oracle-auth-db    Up (healthy)

Connect to Database:
  docker exec -it oracle-auth-db sqlplus sys/Oracle123!@localhost:1521/XE

Verify Sample Data:
  SQL> SELECT COUNT(*) FROM clients;
  Expected: 3

Connection Details:
  Host:      localhost
  Port:      1521
  Username:  sys
  Password:  Oracle123!
  Service:   XE
  URL:       oracle://sys:Oracle123!@localhost:1521/XE

================================================================================
                           TROUBLESHOOTING
================================================================================

"Connection refused":
  → Verify server running: go run main.go
  → Check database: docker-compose ps
  → Wait 2-3 minutes for Oracle to initialize

Database not connecting:
  → Start container: docker-compose up -d
  → Check health: docker-compose ps
  → View logs: docker-compose logs oracle-auth-db

High failure rate:
  → Lower concurrency: -concurrency=5
  → Check server logs
  → Verify database connectivity

Slow performance:
  → Check system resources
  → Lower concurrency
  → Verify caching enabled

================================================================================
                         NEXT STEPS
================================================================================

1. Start Database:         docker-compose up -d
2. Wait for healthy:       (2-3 minutes)
3. Build Load Test:        go build -o load-test load-test.go
4. Start Server:           go run main.go
5. Run Load Test:          ./load-test -concurrency=10 -requests=50
6. Review Results:         Check console output above

Save results with:
  ./load-test ... | tee results-$(date +%Y%m%d-%H%M%S).txt

================================================================================
                       PERFORMANCE IMPROVEMENTS
================================================================================

Before (rqlite):
  Throughput: 50 req/sec
  Latency: 100-150ms

After (Oracle):
  Throughput: 80-100 req/sec    (+60%)
  Latency: 40-50ms              (-50%)

With Caching:
  Throughput: 500+ req/sec      (+1000%)
  Latency: <5ms                 (-95%)

================================================================================
Ready to test! Run the commands above to see live performance results.
================================================================================
